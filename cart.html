---
layout: default
---

<section class="cart">
	<div class="section-header">
		<div class="grid">
			<div class="unit w-1-1 align-center">
				<div class="title">
				</div>
			</div>
		</div>
	</div>
	<div class="grid hide-on-mobiles">
		<div class="unit w-1-1">
			<div class="cart-header">
				<div class='grid'>
					<div class='unit w-3-5'>
						SAN PHAM
					</div>
					<div class='unit w-1-5'>
						SO LUONG
					</div>
					<div class='unit w-1-5'>
						TONG CONG
					</div>
				</div>
			</div>
			<div id="content">
				
			</div>
		</div>
	</div>
</section>
<script type="text/javascript">
	function getCookie(cname){
		var name = cname + "=";
		var ca = document.cookie.split(';');
		for(var i=0; i<ca.length; i++){
			var c = ca[i];
			while(c.charAt(0) == ' '){
				c = c.substring(1);
			}
			if(c.indexOf(name) == 0){
				return c.substring(name.length, c.length);
			}
		}
		return "";
	}

	function generateHTMLStr(name, path, price, num){
		var str = "<div class='cart_row'><div class='grid'><div class='unit w-3-5'>" + "<img src='/img/product/" + path + ".jpg'  width='100'>" + name + "</div><div class='unit w-1-5'>" + num + "</div><div class='unit w-1-5'>" + price*num + ",000VND" + "</div></div></div>" ;
		return str;
	}

	function ajax_get(url, callback){
		var xmlhttp = new XMLHttpRequest();
		xmlhttp.onreadystatechange = function(){
			if(xmlhttp.readyState == 4 && xmlhttp.status == 200){
				try{
					var data = JSON.parse(xmlhttp.responseText);
				} catch(err) {
					console.log(err.message + " in " + xmlhttp.responseText);
					return;
				}
				callback(data);
			}
		};
		xmlhttp.open("GET", url, true);
		xmlhttp.send();
	}

	ajax_get('strObj.html', function(data){
		var i, j, k, l, str= "";
		var cartStr = getCookie("cart");
		if(cartStr != ""){
			var cartObj = JSON.parse(cartStr);
			for(i in data){
				for(j in data[i].child){
					for(k in data[i].child[j].product){
						var x = data[i].child[j].product[k];
						for(l in cartObj){
							if(cartObj[l].name == x.path)
							str += generateHTMLStr(x.name, x.path, x.price, cartObj[l].quantity);
						}
					}
				}
			}
			document.getElementById("content").innerHTML = str;
		} else {
			document.getElementById("content").innerHTML = "Ban chua mua gi ca";
		}
	});
</script>